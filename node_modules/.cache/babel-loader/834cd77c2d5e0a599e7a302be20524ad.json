{"ast":null,"code":"var _jsxFileName = \"/Users/ayushbhardwaj/Downloads/react/breakingtimes/src/components/News.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function News(props) {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n  const [loading, setLoading] = useState(false);\n  document.title = \"BreakingTimes\";\n\n  const updateNews = async () => {\n    let data = await fetch(`https://free-news.p.rapidapi.com/v1/search?q=breaking%20news&lang=en&page_size=24&page=${page}`, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"4245620b7emsh1e5935ed4a833e8p1795cajsn9ddb54fac144\"\n      }\n    });\n    let parsedData = await data.json();\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n    console.log(parsedData);\n  };\n\n  useEffect(() => {\n    updateNews();\n  }, []);\n  console.log(articles);\n\n  const fetchMoreData = async () => {\n    let url = `https://free-news.p.rapidapi.com/v1/search?q=breaking%20news&lang=en&page_size=24&page=${page + 1}`; // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=63c957333f134574a5808b85400d9ddd&&pageSize=${props.pageSize}`;\n\n    setPage(page + 1);\n    let data = await fetch(url, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"4245620b7emsh1e5935ed4a833e8p1795cajsn9ddb54fac144\"\n      }\n    });\n    let parsedData = await data.json();\n    setArticles(articles.concat(parsedData.articles));\n    setTotalResults(parsedData.totalResults);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      style: {\n        margin: \"90px 0px 40px\"\n      },\n      children: \"Top Headlines\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 16\n    }, this) : null, /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: articles.length,\n      next: fetchMoreData,\n      hasMore: articles.length !== totalResults,\n      loader: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: articles.map(article => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-lg-4 col-xl-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-group\",\n              children: /*#__PURE__*/_jsxDEV(NewsItem, {\n                title: article.title,\n                description: article.description,\n                imageUrl: article.urlToImage,\n                newsUrl: article.url,\n                source: article.source.name,\n                author: article.author,\n                date: article.publishedAt\n              }, article.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, \"{article.url}\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(News, \"KBwD7KqjSTD3JN2sSMBnR1zWrC8=\");\n\n_c = News;\nNews.defaultProps = {\n  country: \"in\",\n  page_size: 24,\n  category: \"general\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  page_size: PropTypes.number,\n  category: PropTypes.string\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"News\");","map":{"version":3,"sources":["/Users/ayushbhardwaj/Downloads/react/breakingtimes/src/components/News.js"],"names":["React","useEffect","useState","NewsItem","Spinner","PropTypes","InfiniteScroll","News","props","articles","setArticles","page","setPage","totalResults","setTotalResults","loading","setLoading","document","title","updateNews","data","fetch","parsedData","json","console","log","fetchMoreData","url","concat","margin","length","map","article","description","urlToImage","source","name","author","publishedAt","defaultProps","country","page_size","category","propTypes","string","number"],"mappings":"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","sourcesContent":["import React, {useEffect, useState } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\n\nexport default function News(props) {\nconst [articles, setArticles] = useState([])\nconst [page, setPage] = useState(1);\nconst [totalResults, setTotalResults] = useState(0);\nconst [loading, setLoading] = useState(false);\n\n  document.title = \"BreakingTimes\";\n\n\nconst updateNews= async () =>{\n  \n  let data = await fetch(`https://free-news.p.rapidapi.com/v1/search?q=breaking%20news&lang=en&page_size=24&page=${page}`, {\n    \"method\": \"GET\",\n    \"headers\": {\n      \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n      \"x-rapidapi-key\": \"4245620b7emsh1e5935ed4a833e8p1795cajsn9ddb54fac144\"\n    }\n  })\n  let parsedData = await data.json();\n  setArticles(parsedData.articles);\n  setTotalResults(parsedData.totalResults);\n  setLoading(false);\n  console.log(parsedData);\n}\n\n\nuseEffect(() => {\n updateNews();\n},[]);\nconsole.log(articles);\n\nconst fetchMoreData= async()=>{\n  let url = `https://free-news.p.rapidapi.com/v1/search?q=breaking%20news&lang=en&page_size=24&page=${page+1}`;\n  // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=63c957333f134574a5808b85400d9ddd&&pageSize=${props.pageSize}`;\n  setPage(page + 1);\n  let data = await fetch(url, {\n    \"method\": \"GET\",\n    \"headers\": {\n      \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n      \"x-rapidapi-key\": \"4245620b7emsh1e5935ed4a833e8p1795cajsn9ddb54fac144\"\n    }\n  })\n  let parsedData = await data.json();\n      setArticles(articles.concat(parsedData.articles))\n      setTotalResults(parsedData.totalResults)\n}\n\n  return (\n    <div className=\"container my-3\">\n    <h1 className=\"text-center\" style={{ margin: \"90px 0px 40px\" }}>\n      Top Headlines\n    </h1>\n    {loading ? <Spinner /> : null}\n    <InfiniteScroll\n      dataLength={articles.length}\n      next={fetchMoreData}\n      hasMore={articles.length !== totalResults}\n      loader={<Spinner />}\n    >\n    <div className=\"row\">\n      {articles.map((article) => {\n          return (\n            <div className=\"col-md-6 col-lg-4 col-xl-3\" key=\"{article.url}\">\n              <div className=\"card-group\">\n                <NewsItem\n                  key={article.url}\n                  title={article.title}\n                  description={article.description}\n                  imageUrl={article.urlToImage}\n                  newsUrl={article.url}\n                  source={article.source.name}\n                  author={article.author}\n                  date={article.publishedAt}\n                />\n              </div>\n            </div>\n          );\n        })}\n    </div>\n    </InfiniteScroll>\n   \n    </div>\n  \n);\n}\n        \n\nNews.defaultProps = {\n  country: \"in\",\n  page_size: 24,\n  category: \"general\",\n};\n\nNews.propTypes = {\n  country: PropTypes.string,\n  page_size: PropTypes.number,\n  category: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}